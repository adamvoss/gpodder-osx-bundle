This is a collection of files required to build gPodder.app :
gPodder as a native GTK+ Quartz application for Mac OS X 10.6 and 10.7

I used them to build on a 10.6 X86_64 machine.

# Instructions

place into ~/mymodules

copy dot_jhbuildrc-custom to ~/.jhbuildrc-custom or better, merge my modifications to your config file

If you have MacPorts installed, you must ensure to remove it from the path,
to only build against system libraries.
It might also be a good idea to move it to some non standard location
during the build: some configure scripts are a bit too clever and will use it even if it's not in the path.

Follow instructions in http://live.gnome.org/GTK%2B/OSX/Building
 - bootstrap
   Be sure to skip building libiconv (see https://mail.gnome.org/archives/gtk-osx-users-list/2011-July/msg00001.html)
   otherwise the resulting application will not run under 10.7.
edit gtk-osx.modules to comment out gtk-osx-javascript.modules (would give an error as soon as one tries to build meta-gtk-osx-bootstrap) 
 - meta-gtk-osx-bootstrap
 - meta-gtk-osx-freetype (this is the key to getting pangoft2 and also fontconfig for librsvg)
 - meta-gtk-osx-core
 - python
 - meta-gtk-osx-python

chmod u+w ~/gtk/inst/lib/libpython2.7.dylib
chmod u+w ~/gtk/inst/lib/libreadline.6.2.dylib 

# Installing gPodder
Latest version of gPodder is used, with a few custom patches (see postproc.sh)

jhbuild build gpodder (error checkout libproxy: missing patch 404, ignore and move on)
jhbuild build meta-gtk-osx-themes



# Bundling gPodder
install gtk-mac-bundler, following http://live.gnome.org/GTK%2B/OSX/Bundling
cd mymodules/gpodder-bundle
jhbuild shell
~/.local/bin/gtk-mac-bundler gpodder.bundle && ./postproc.sh 

produces gPodder.app in Desktop
test by double-clicking on gPodder.app
test by moving ~/gtk/inst away and re-launching

# Releasing

Releasing on OS X
 1. see *Bundling gPodder*
 2. ./release.sh ~/gPodder.app version_buildnumber
 3. ./release_deps.sh ~/gPodder.app version_buildnumber
 
Releasing on Linux by patching deps:
 4. ./release_on_linux.sh ~/Downloads/gPodder-3.8.4_0.deps.zip /tmp/gpodder master f699341

# Issues

See https://github.com/elelay/gpodder-osx-bundle

# Using gPodder:

See https://github.com/elelay/gpoder-osx-bundle/wiki/Using for instructions...
And the official help guide http://gpodder.org/documentation